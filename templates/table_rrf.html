{%- import "./componentes/form.html" as scope -%}
{% extends "base.html" %}

{% block content %}
    <div>
        {% call scope::busqueda("search") %}
    </div>
    <div class="table-header">
        <div class="result-count">{{ msg }}</div>
        <div class="pagination"></div> 
        <button id="csv_trigger">Descargar CSV</button>
    </div>


    <div class="table-container">
        <table class="content" id="table-content">
            <thead>
                <tr>
                    <th scope="col">Correo</th>
                    <th scope="col">Edad</th>
                    <th scope="col">Sexo</th>
                    <th scope="col">Template</th>
                    <th scope="col">fts_rank</th>
                    <th scope="col">vec_rank</th>
                    <th scope="col">combined_rank</th>
                    <th scope="col">vec_score</th>
                    <th scope="col">fts_score</th>
                </tr>
            </thead>
            <tbody>
                {% for row in table %}
                <tr>
                    <td> {{ row.email }} </td>
                    <td> {{ row.edad }} </td>
                    <td> {{ row.sexo }} </td> 
                    <td> {{ row.template|safe }} </td> 
                    <td> {{ row.fts_rank }} </td>
                    <td> {{ row.vec_rank }} </td>
                    <td> {{ row.combined_rank }} </td>
                    <td> {{ row.vec_score }} </td>
                    <td> {{ row.fts_score }} </td>
                </tr>
                {% endfor %} 
            </tbody>
        </table>
        <p style="color:green;"> <b>* Las palabras resaltadas en verde son los resultados encontrados usando FTS!</b> </p>
    </div>
{% endblock content %}

